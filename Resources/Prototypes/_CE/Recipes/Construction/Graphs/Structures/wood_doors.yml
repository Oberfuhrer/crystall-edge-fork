- type: constructionGraph
  id: CEWoodenDoor
  start: start
  graph:
    - node: start
      edges:
        - to: CEWoodenDoorFrame
          completed:
            - !type:SnapToGrid
              southRotation: true
          steps:
            - material: CEWood
              amount: 2
              doAfter: 3

    - node: startMirrored
      edges:
        - to: CEWoodenDoorFrameMirrored
          completed:
            - !type:SnapToGrid
              southRotation: true
          steps:
            - material: CEWood
              amount: 2
              doAfter: 3

    - node: CEWoodenDoorFrame
      entity: CEWoodenDoorFrame
      actions:
      - !type:SnapToGrid {}
      - !type:SetAnchor {}
      edges:
        - to: start
          completed:
            - !type:SpawnPrototype
              prototype: CEWoodenPlanks1
              amount: 2
            - !type:DeleteEntity {}
          steps:
            - tool: CEHammering
              doAfter: 1
            - tool: Prying
              doAfter: 2
        - to: CEWoodenDoor
          conditions:
          - !type:EntityAnchored {}
          steps:
            - material: CEWood
              amount: 1
              doAfter: 1.5
            - material: CENail
              amount: 2
              doAfter: 0.5
            - tool: CEHammering
              doAfter: 1
        - to: CEWoodenDoorWindowed
          conditions:
          - !type:EntityAnchored {}
          steps:
            - material: CEBrassRod
              amount: 2
              doAfter: 1.5
            - material: CEWood
              amount: 1
              doAfter: 1.5
            - material: CENail
              amount: 2
              doAfter: 0.5
            - tool: CEHammering
              doAfter: 1
        - to: CEWoodenDoorFrameMirrored
          steps:
            - tool: Screwing
              doAfter: 1

    - node: CEWoodenDoorFrameMirrored
      entity: CEWoodenDoorFrameMirrored
      actions:
      - !type:SnapToGrid {}
      - !type:SetAnchor {}
      edges:
        - to: start
          completed:
            - !type:SpawnPrototype
              prototype: CEWoodenPlanks1
              amount: 2
            - !type:DeleteEntity {}
          steps:
            - tool: CEHammering
              doAfter: 1
            - tool: Prying
              doAfter: 2
        - to: CEWoodenDoorMirrored
          conditions:
          - !type:EntityAnchored {}
          steps:
            - material: CEWood
              amount: 1
              doAfter: 1.5
            - material: CENail
              amount: 2
              doAfter: 0.5
            - tool: CEHammering
              doAfter: 1
        - to: CEWoodenDoorWindowedMirrored
          conditions:
          - !type:EntityAnchored {}
          steps:
            - material: CEBrassRod
              amount: 2
              doAfter: 1.5
            - material: CEWood
              amount: 1
              doAfter: 1.5
            - material: CENail
              amount: 2
              doAfter: 0.5
            - tool: CEHammering
              doAfter: 1
        - to: CEWoodenDoorFrame
          steps:
            - tool: Screwing
              doAfter: 1

    - node: CEWoodenDoor
      entity: CEWoodenDoor
      edges:
        - to: CEWoodenDoorFrame
          conditions:
          - !type:Locked
            locked: false
          steps:
            - tool: Prying
              doAfter: 1
            - tool: Prying
              doAfter: 2
          completed:
            - !type:SpawnPrototype
              prototype: CEWoodenPlanks1
              amount: 1
            - !type:SpawnPrototype
              prototype: CENail1
              amount: 2

    - node: CEWoodenDoorMirrored
      entity: CEWoodenDoorMirrored
      edges:
        - to: CEWoodenDoorFrameMirrored
          conditions:
          - !type:Locked
            locked: false
          steps:
            - tool: Prying
              doAfter: 1
            - tool: Prying
              doAfter: 2
          completed:
            - !type:SpawnPrototype
              prototype: CEWoodenPlanks1
              amount: 1
            - !type:SpawnPrototype
              prototype: CENail1
              amount: 2

    - node: CEWoodenDoorWindowed
      entity: CEWoodenDoorWindowed
      edges:
        - to: CEWoodenDoorFrame
          conditions:
          - !type:Locked
            locked: false
          steps:
            - tool: Prying
              doAfter: 1
            - tool: Prying
              doAfter: 2
          completed:
            - !type:SpawnPrototype
              prototype: CEBrassRod1
              amount: 2
            - !type:SpawnPrototype
              prototype: CEWoodenPlanks1
              amount: 1
            - !type:SpawnPrototype
              prototype: CENail1
              amount: 2

    - node: CEWoodenDoorWindowedMirrored
      entity: CEWoodenDoorWindowedMirrored
      edges:
        - to: CEWoodenDoorFrameMirrored
          conditions:
          - !type:Locked
            locked: false
          steps:
            - tool: Prying
              doAfter: 1
            - tool: Prying
              doAfter: 2
          completed:
            - !type:SpawnPrototype
              prototype: CEBrassRod1
              amount: 2
            - !type:SpawnPrototype
              prototype: CEWoodenPlanks1
              amount: 1
            - !type:SpawnPrototype
              prototype: CENail1
              amount: 2